<!DOCTYPE html>
<html>
    <style>
        .button {
            padding:5px;
            background-color: #dcdcdc;
            border: 1px solid #666;
            color:#000;
            text-decoration:none;
            width: 50px;
            text-align: center;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <script>
	// === holds page data ===
	class Data {
        constructor() {
            this.value = 30;
            this.visualize();
        }
		visualize() {
			let $visual = $("#visualization");
			let stars = "";
			for (let i=0;i<this.value;i++){
				if (i % 10 == 0){
					stars += ".";
				} else stars += "*";
			}
			$visual.text("value is " + this.value)
				.append( "<p>"+stars+"</p>" );
		}
		add(n) {
			this.value += n;
			this.visualize();
		}
	}
	
	$(document).ready(() => {
		// === initialization of data =================
		let myData = new Data();
		myData.visualize();
		// === setup UI ===============================
		$("#-3").addClass("button").click(event => {
			myData.add( -3 );
			if(myData.value < 3){
				console.log("your opponent lose");
			}
			if(Math.random < Math.random){
				myData.add(-3);
			} else{
				myData.add(-2);
			}
			if(myData.value <3 ){
				console.log("you lose");
				myData.value = 30;
				console.log("game has reset");
			}
		});

		$("#-2").addClass("button").click(event => {
			myData.add( -2 );
			if(myData.value < 3){
				console.log("your opponent lose");
				myData.value = 30;
				console.log("game has reset");
			}
			if(Math.random < Math.random){
				myData.add(-3);
			} else{
				myData.add(-2);
			}
			if(mydata.value <3 ){
				console.log("you lose");
				myData.value = 30;
				console.log("game has reset");
			}
			// === Comment ===============================
			//check console for who lose and win and reset
		});

		$(".button").mousedown(event => { // prevent selection
			event.preventDefault();
		});
	});
</script>
<body>
<h1>Data + Visual + UI (mini-example)</h1>
<p id="-3">[-3]</p>
<p id="-2">[-2]</p>
<p id="visualization"></p>
</body>
</html>
